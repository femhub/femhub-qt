#!/usr/bin/env python

import sys
from PySide.QtCore import QUrl
from PySide.QtGui import QApplication
from PySide.QtWebKit import QWebView, QWebPage

class MyWebPage(QWebPage):

    def userAgentForUrl(self, url):
        return "Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1"
        #return "Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/532.4 (KHTML, like Gecko) Qt/4.6.2 Mobile Safari/532.4"

app = QApplication(sys.argv)

web = QWebView()
web.setWindowTitle("TravelMate")
page = MyWebPage()
web.setPage(page)
print web.page().userAgentForUrl("xx")
web.load(QUrl("http://jag.gr/tm"))
print web.page().userAgentForUrl("xx")
web.show()

sys.exit(app.exec_())
